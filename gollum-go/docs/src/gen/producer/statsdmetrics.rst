.. Autogenerated by Gollum RST generator (docs/generator/*.go)

StatsdMetrics
=============

This producer samples the messages it receives and sends metrics about them
to statsd.




Parameters
----------

**Enable** (default: true)

  Switches this plugin on or off.
  

**Server**

  Defines the server and port to send statsd metrics to.
  By default this parameter is set to "localhost:8125".
  
  

**Prefix**

  Defines a string that is prepended to every statsd metric name.
  By default this parameter is set to "gollum.".
  
  

**StreamMapping**

  Defines a translation from gollum stream to statsd metric
  name. If no mapping is given the gollum stream name is used as the metric
  name.
  By default this parameter is set to an empty list.
  
  

**UseMessage** (default: false)

  Switch between just counting all messages arriving at this
  producer or summing up the message content. If UseMessage is set to true, the
  contents will be parsed as an integer, i.e. a string containing a human
  readable number is expected.
  By default the parameter is set to false.
  
  

**UseGauge** (default: false)

  When set to true the statsd data format will switch from counter
  to gauge. Every stream that does not receive any message but is liste in
  StreamMapping will have a gauge value of 0.
  By default this is parameter is set to false.
  
  

**Batch/MaxMessages**

  Defines the maximum number of messages to collect per
  batch.
  By default this parameter is set to 500.
  
  

**Batch/TimeoutSec** (default: 10, unit: sec)

  Defines the number of seconds after which a batch is
  processed, regardless of MaxMessages being reached or not.
  By default this parameter is set to 10.
  
  

Parameters (from core.BufferedProducer)
---------------------------------------

**Channel**

  This value defines the capacity of the message buffer.
  By default this parameter is set to "8192".
  
  

**ChannelTimeoutMs** (default: 0, unit: ms)

  This value defines a timeout for each message
  before the message will discarded. To disable the timeout, set this
  parameter to 0.
  By default this parameter is set to "0".
  
  

Parameters (from core.SimpleProducer)
-------------------------------------

**Streams**

  Defines a list of streams the producer will receive from. This
  parameter is mandatory. Specifying "*" causes the producer to receive messages
  from all streams except internal internal ones (e.g. _GOLLUM_).
  By default this parameter is set to an empty list.
  
  

**FallbackStream**

  Defines a stream to route messages to if delivery fails.
  The message is reset to its original state before being routed, i.e. all
  modifications done to the message after leaving the consumer are removed.
  Setting this paramater to "" will cause messages to be discared when delivery
  fails.
  
  

**ShutdownTimeoutMs** (default: 1000, unit: ms)

  Defines the maximum time in milliseconds a producer is
  allowed to take to shut down. After this timeout the producer is always
  considered to have shut down.  Decreasing this value may lead to lost
  messages during shutdown. Raising it may increase shutdown time.
  
  

**Modulators**

  Defines a list of modulators to be applied to a message when
  it arrives at this producer. If a modulator changes the stream of a message
  the message is NOT routed to this stream anymore.
  By default this parameter is set to an empty list.
  
  

Examples
--------

This example will collect all messages going through gollum and sending
metrics about the different datastreams to statsd at least every 5 seconds.
Metrics will be send as "logs.streamName".

.. code-block:: yaml

	 metricsCollector:
	   Type: producer.StatsdMetrics
	   Stream: "*"
	   Server: "stats01:8125"
	   BatchTimeoutSec: 5
	   Prefix: "logs."
	   UseGauge: true





